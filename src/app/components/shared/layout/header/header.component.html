<!-- Sidenav -->
<mat-sidenav mode="push" opened="false" #sidenav class="sidenav">

  <!--<img [src]="willeyImage">-->

  <div class="menu-link">
    <button mat-button routerLink="/home" (click)="sidenav.close()">
      <mat-icon class="home">home</mat-icon>
      <span>Home</span>
    </button>

    <button mat-button routerLink="/about" (click)="sidenav.close()">
      <mat-icon class="about">pageview</mat-icon>
      <span>About</span>
    </button>

    <button mat-button routerLink="/contact" (click)="sidenav.close()">
      <mat-icon class="contact">email</mat-icon>
      <span>Contact</span>
    </button>

    <button mat-button routerLink="/misc" (click)="sidenav.close()">
      <mat-icon class="misc">burst_mode</mat-icon>
      <span>Misc</span>
    </button>

    <hr>

    <div *ngIf="!authService.isAuthenticated(); else logout">
      <button mat-button routerLink="/signup" (click)="sidenav.close()">
        <mat-icon class="signup">person_add</mat-icon>
        <span>Signup</span>
      </button>

      <button mat-button routerLink="/login" (click)="sidenav.close()">
        <mat-icon class="login">lock_open</mat-icon>
        <span>Login</span>
      </button>
    </div>

    <ng-template #logout>
      <button mat-button (click)="onLogout()" (click)="sidenav.close()">
        <mat-icon class="logout">lock_outline</mat-icon>
        <span>Logout</span>
      </button>
    </ng-template>
  </div>

</mat-sidenav>
 <!-- Sidenav activate -->


<!-- Header -->
<mat-toolbar color="accent">
  <span>
    <a href="/">
      <app-titlecase-pipe></app-titlecase-pipe>
    </a>
  </span>


  <div>
    <img mat-card-image [src]="willeyImage" routerLink="/home" style="margin: 0 -18px 0">
  </div>

  <!-- Menu -->
  <span class="spacer"></span>
  <div *ngIf="!authService.isAuthenticated();">
    <app-date-pipe></app-date-pipe>
  </div>

  <span class="spacer-light"></span>

  <div *ngIf="!authService.isAuthenticated(); else loggedin">
    <a routerLink="/signup" style="padding:0 10px 0 0;">
      <mat-icon>person_add</mat-icon>
    </a>
    <a routerLink="/login">
      <mat-icon>lock_open</mat-icon>
    </a>
  </div>

  <ng-template #loggedin>
    <h4>(Welcome : {{userName() | uppercase}})</h4>

    <button mat-icon-button [matMenuTriggerFor]="menu">
      <mat-icon>more_vert</mat-icon>
    </button>

    <mat-menu #menu="matMenu">
      <a mat-menu-item routerLink="/profile" [queryParams]="{profile: '1'}">
        <mat-icon class="profile">face</mat-icon>
        <span>Profile</span>
      </a>

      <a mat-menu-item *ngFor="let item of menuItems" href="{{item.link}}">
        <mat-icon class="login">{{item.icon}}</mat-icon>
        <span>{{item.title}}</span>
      </a>

      <a mat-menu-item routerLink="/profile-settings" [queryParams]="{profile: '1'}" fragment="editProfile">
        <mat-icon class="settings">settings</mat-icon>
        <span>Settings</span>
      </a>

      <a mat-menu-item (click)="onLogout()">
        <mat-icon class="logout">lock_outline</mat-icon>
        <span>Logout</span>
      </a>
    </mat-menu>

  </ng-template>
</mat-toolbar>